
Dev setup


Running in node,js REPL

    git clone https://github.com/fivestars/fivestars-pos-sdk.git
    cd fivestars-pos-sdk.exit
    lerna clean && lerna run clean && lerna bootstrap && lerna run lint && lerna run build
    npx ts-node

    /* Paste these line in the REPL */

    > import { Auth } from ‘./packages/fivestars-pos-sdk-auth/lib/src’

    > import { Pairing } from './packages/fivestars-pos-sdk-pairing/lib/src'

    > import { Merchant } from './packages/fivestars-pos-sdk-merchant/lib/src'

    > import { ILoyaltyCredentials, KnownDevice, PaymentTypes, StartPaymentOptions } from './packages/types/lib/src'

    > const auth = new Auth()

    > const pairing: Pairing = new Pairing()

    > const merchant = new Merchant()

    > const info = {softwareId: “PAYINSTORE20”, email: “fishsticks@fivestars.com”, password: “password”}

    > loyaltyCredentials: ILoyaltyCredentials = auth.login(info)

    > pairing.start(loyaltyCredentials)

    > const knownDevices: KnownDevice[] = pairing.getKnownDevices()

    > pairing.pair(knownDevices[0])

    > const cashPaymentOptions: StartPaymentOptions = { amount: 21.50 , paymentType: PaymentTypes.CASH, transactionTotalUid: null, options: { manualTransaction: true }}

    > merchant.startPayment(cashPaymentOptions)

    > const cardPaymentOptions: StartPaymentOptions = { amount: 21.50 , paymentType: PaymentTypes.CARD, transactionTotalUid: null, options: { manualTransaction: true }}

    > merchant.startPayment(cardPaymentOptions)

    > pairing.unPair()

    
    NOTE: once cPay device is connected you should start receiving messages specific to the device(s)
